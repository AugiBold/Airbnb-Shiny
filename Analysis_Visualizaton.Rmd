---
title: "R Notebook"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Ctrl+Shift+Enter*. 

```{r}
library(tidyverse)
library(lubridate)
library(dplyr)
```
Airbnb, more than just a vacation rental company, was one of the market disruptors that started in 2008 which destabilized the hotel industry and changed the way people traveled by offering more options in booking places to stay.  It got so popular that more and more people started using it as a business which eventually led to certain cities to put in place regulations on short term rentals.  

One of those cities is Washington, D.C and I obtained my data from insideairbnb.com, an independent non-commercial project that gathers publicly available Airbnb information with the express purpose of promoting awareness on this issue of affecting local neighborhoods and established real-estate businesses.  The dataset only provided listings that were available for the last 12 months in Washington, D.C.  With that in mind, through this project I wanted to explore 2 questions particularly in this post Covid state:

1) As a potential guest, where are the more affordable yet well rated and reviewed listings? 
2) As a potential host, where is the most demand in the D.C market for listings? 

The main data I will be working with is the listings data and it includes all kinds of data from which I selected data regarding the following:listings, coordinate location, neighborhood, price per night, room type, number of reviews, review scores, and availability days per year.

```{r}
listings = read.csv('./listings.csv')
listings_detailed = read.csv('./listings_detailed.csv')
head(listings)
head(listings_detailed)

```
I first select data fields pertaining to my question of interest from the main dataset and also extract the review-score data from the listings_detailed dataset and join it to the main dataset to capture the rating. 
```{r}
listings = listings %>% select('id', 'name', 'host_id', 'neighbourhood', 'latitude', 'longitude', 'room_type', 'price', 'number_of_reviews', 'calculated_host_listings_count', 'availability_365') 
head(listings, 3)
```   
Join the data and clean up the long names into short, to-the-point names for the columns.  
```{r}
rating = listings_detailed %>% select('id', 'review_scores_rating')
listings = inner_join(listings, rating, by = 'id')
listings = listings %>% rename(host_listings = 'calculated_host_listings_count', availability = 'availability_365', rating = 'review_scores_rating')
head(listings)
```

Let's get a general sense of the data:
```{r}
str(listings)
summary(listings)
colSums(is.na(listings))
```
As we can see, the rating field has 2373 NULL/NaN values making up about 30% of all the data.  
For general analysis, we will keep the data for sure, but when we are considering rating alone, we will omit the null value.  
This sort of correlates with the number of reviews having 0 values when checked: 

```{r}
listings %>% filter(number_of_reviews==0) %>% summarise(count = n())
```
Let's look at the General Distribution of the Prices to get a feel for the pricing landscape: 

```{r}

```


```{r}
```


```{r}
```


```{r}
```


```{r}
```


```{r}
```


```{r}
```


```{r}
```


```{r}
```


```{r}
```


```{r}
```


```{r}
```


```{r}
```


```{r}
```


```{r}
```


```{r}
```


```{r}
```


```{r}
```


```{r}
```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.
